((function(){var a;a=/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/,window.CARD_TYPE_VALIDATORS=[{value:"USA_express",reg:/^3[47][0-9]{13}$/},{value:"discover",reg:/^6(?:011|5[0-9]{2})[0-9]{12}$/},{value:"visa",reg:/^4[0-9]{12}(?:[0-9]{3})?$/},{value:"jcb",reg:/^(?:2131|1800|35\d{3})\d{11}$/},{value:"dinners_club",reg:/^3(?:0[0-5]|[68][0-9])[0-9]{11}$/},{value:"master_card",reg:/^5[1-5][0-9]{14}$/}],$(function(){return $("#card_card_number").change(function(){var a,b,c,d,e;a=$("#card_card_type").val();if(a==="")return alert("Please choose card type!");e=[];for(c=0,d=CARD_TYPE_VALIDATORS.length;c<d;c++){b=CARD_TYPE_VALIDATORS[c];if(b.value===a){b.reg.test($(this).val())||alert("Your card number does not match this card_type!");break}e.push(void 0)}return e}),$("#card_card_type").change(function(){var a,b,c,d,e;a=$("#card_card_number").val(),e=[];for(c=0,d=CARD_TYPE_VALIDATORS.length;c<d;c++){b=CARD_TYPE_VALIDATORS[c];if(b.value===$(this).val()){a!==""&&!b.reg.test(a)&&alert("Your card number does not match this card_type!");break}e.push(void 0)}return e}),$("#cvv-explanation").click(function(a){var b,c,d;return b=$("#cvv-form"),c=a.clientX-155,d=a.clientY-b.height(),$("#cvv-form").modal({opacity:5,overlayClose:!0,position:[d,c]})}),$("#cvv-form .close").click(function(){return $.modal.close()})})})).call(this);
/*
 Highcharts JS v2.2.1 (2012-03-15)
 Exporting module

 (c) 2010-2011 Torstein H?nsi

 License: www.highcharts.com/license
*/
(function(){function a(a){for(var b=a.length;b--;)typeof a[b]=="number"&&(a[b]=Math.round(a[b])-.5);return a}var b=Highcharts,c=b.Chart,d=b.addEvent,e=b.removeEvent,f=b.createElement,g=b.discardElement,h=b.css,i=b.merge,j=b.each,k=b.extend,l=Math.max,m=document,n=window,o=m.documentElement.ontouchstart!==void 0,p=b.getOptions();k(p.lang,{downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",exportButtonTitle:"Export to raster or vector image",printButtonTitle:"Print the chart"}),p.navigation={menuStyle:{border:"1px solid #A0A0A0",background:"#FFFFFF"},menuItemStyle:{padding:"0 5px",background:"none",color:"#303030",fontSize:o?"14px":"11px"},menuItemHoverStyle:{background:"#4572A5",color:"#FFFFFF"},buttonOptions:{align:"right",backgroundColor:{linearGradient:[0,0,0,20],stops:[[.4,"#F7F7F7"],[.6,"#E3E3E3"]]},borderColor:"#B0B0B0",borderRadius:3,borderWidth:1,height:20,hoverBorderColor:"#909090",hoverSymbolFill:"#81A7CF",hoverSymbolStroke:"#4572A5",symbolFill:"#E0E0E0",symbolStroke:"#A0A0A0",symbolX:11.5,symbolY:10.5,verticalAlign:"top",width:24,y:10}},p.exporting={type:"image/png",url:"http://export.highcharts.com/",width:800,buttons:{exportButton:{symbol:"exportIcon",x:-10,symbolFill:"#A8BF77",hoverSymbolFill:"#768F3E",_id:"exportButton",_titleKey:"exportButtonTitle",menuItems:[{textKey:"downloadPNG",onclick:function(){this.exportChart()}},{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}]},printButton:{symbol:"printIcon",x:-36,symbolFill:"#B5C9DF",hoverSymbolFill:"#779ABF",_id:"printButton",_titleKey:"printButtonTitle",onclick:function(){this.print()}}}},k(c.prototype,{getSVG:function(a){var c=this,d,e,h,l=i(c.options,a);return m.createElementNS||(m.createElementNS=function(a,c){var d=m.createElement(c);return d.getBBox=function(){return b.Renderer.prototype.Element.prototype.getBBox.apply({element:d})},d}),a=f("div",null,{position:"absolute",top:"-9999em",width:c.chartWidth+"px",height:c.chartHeight+"px"},m.body),k(l.chart,{renderTo:a,forExport:!0}),l.exporting.enabled=!1,l.chart.plotBackgroundImage=null,l.series=[],j(c.series,function(a){h=i(a.options,{animation:!1,showCheckbox:!1,visible:a.visible}),h.isInternal||(h&&h.marker&&/^url\(/.test(h.marker.symbol)&&(h.marker.symbol="circle"),l.series.push(h))}),d=new Highcharts.Chart(l),j(["xAxis","yAxis"],function(a){j(c[a],function(b,c){var e=d[a][c],f=b.getExtremes(),g=f.userMin,f=f.userMax;(g!==void 0||f!==void 0)&&e.setExtremes(g,f,!0,!1)})}),e=d.container.innerHTML,l=null,d.destroy(),g(a),e=e.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/isTracker="[^"]+"/g,"").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ href=/g," xlink:href=").replace(/&nbsp;/g," ").replace(/&shy;/g,"­").replace(/<IMG /g,"<image ").replace(/height=([^" ]+)/g,'height="$1"').replace(/width=([^" ]+)/g,'width="$1"').replace(/hc-svg-href="([^"]+)">/g,'xlink:href="$1"/>').replace(/id=([^" >]+)/g,'id="$1"').replace(/class=([^" ]+)/g,'class="$1"').replace(/ transform /g," ").replace(/:(path|rect)/g,"$1").replace(/style="([^"]+)"/g,function(a){return a.toLowerCase()}),e=e.replace(/(url\(#highcharts-[0-9]+)&quot;/g,"$1").replace(/&quot;/g,"'"),e.match(/ xmlns="/g).length===2&&(e=e.replace(/xmlns="[^"]+"/,"")),e},exportChart:function(a,b){var c,d=this.getSVG(i(this.options.exporting.chartOptions,b)),a=i(this.options.exporting,a);c=f("form",{method:"post",action:a.url},{display:"none"},m.body),j(["filename","type","width","svg"],function(b){f("input",{type:"hidden",name:b,value:{filename:a.filename||"chart",type:a.type,width:a.width,svg:d}[b]},null,c)}),c.submit(),g(c)},print:function(){var a=this,b=a.container,c=[],d=b.parentNode,e=m.body,f=e.childNodes;a.isPrinting||(a.isPrinting=!0,j(f,function(a,b){a.nodeType===1&&(c[b]=a.style.display,a.style.display="none")}),e.appendChild(b),n.print(),setTimeout(function(){d.appendChild(b),j(f,function(a,b){a.nodeType===1&&(a.style.display=c[b])}),a.isPrinting=!1},1e3))},contextMenu:function(a,b,c,e,g,i){var m=this,n=m.options.navigation,p=n.menuItemStyle,q=m.chartWidth,s=m.chartHeight,u="cache-"+a,v=m[u],w=l(g,i),x,y;v||(m[u]=v=f("div",{className:"highcharts-"+a},{position:"absolute",zIndex:1e3,padding:w+"px"},m.container),x=f("div",null,k({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},n.menuStyle),v),y=function(){h(v,{display:"none"})},d(v,"mouseleave",y),j(b,function(a){if(a){var b=f("div",{onmouseover:function(){h(this,n.menuItemHoverStyle)},onmouseout:function(){h(this,p)},innerHTML:a.text||m.options.lang[a.textKey]},k({cursor:"pointer"},p),x);b[o?"ontouchstart":"onclick"]=function(){y(),a.onclick.apply(m,arguments)},m.exportDivElements.push(b)}}),m.exportDivElements.push(x,v),m.exportMenuWidth=v.offsetWidth,m.exportMenuHeight=v.offsetHeight),a={display:"block"},c+m.exportMenuWidth>q?a.right=q-c-g-w+"px":a.left=c-w+"px",e+i+m.exportMenuHeight>s?a.bottom=s-e-w+"px":a.top=e+i-w+"px",h(v,a)},addButton:function(a){function b(){m.attr(p),l.attr(o)}var c=this,d=c.renderer,e=i(c.options.navigation.buttonOptions,a),f=e.onclick,g=e.menuItems,h=e.width,j=e.height,l,m,n,a=e.borderWidth,o={stroke:e.borderColor},p={stroke:e.symbolStroke,fill:e.symbolFill},q=e.symbolSize||12;c.exportDivElements||(c.exportDivElements=[],c.exportSVGElements=[]),e.enabled!==!1&&(l=d.rect(0,0,h,j,e.borderRadius,a).align(e,!0).attr(k({fill:e.backgroundColor,"stroke-width":a,zIndex:19},o)).add(),n=d.rect(0,0,h,j,0).align(e).attr({id:e._id,fill:"rgba(255, 255, 255, 0.001)",title:c.options.lang[e._titleKey],zIndex:21}).css({cursor:"pointer"}).on("mouseover",function(){m.attr({stroke:e.hoverSymbolStroke,fill:e.hoverSymbolFill}),l.attr({stroke:e.hoverBorderColor})}).on("mouseout",b).on("click",b).add(),g&&(f=function(){b();var a=n.getBBox();c.contextMenu("export-menu",g,a.x,a.y,h,j)}),n.on("click",function(){f.apply(c,arguments)}),m=d.symbol(e.symbol,e.symbolX-q/2,e.symbolY-q/2,q,q).align(e,!0).attr(k(p,{"stroke-width":e.symbolStrokeWidth||1,zIndex:20})).add(),c.exportSVGElements.push(l,n,m))},destroyExport:function(){var a,b;for(a=0;a<this.exportSVGElements.length;a++)b=this.exportSVGElements[a],b.onclick=b.ontouchstart=null,this.exportSVGElements[a]=b.destroy();for(a=0;a<this.exportDivElements.length;a++)b=this.exportDivElements[a],e(b,"mouseleave"),this.exportDivElements[a]=b.onmouseout=b.onmouseover=b.ontouchstart=b.onclick=null,g(b)}}),b.Renderer.prototype.symbols.exportIcon=function(b,c,d,e){return a(["M",b,c+d,"L",b+d,c+e,b+d,c+e*.8,b,c+e*.8,"Z","M",b+d*.5,c+e*.8,"L",b+d*.8,c+e*.4,b+d*.4,c+e*.4,b+d*.4,c,b+d*.6,c,b+d*.6,c+e*.4,b+d*.2,c+e*.4,"Z"])},b.Renderer.prototype.symbols.printIcon=function(b,c,d,e){return a(["M",b,c+e*.7,"L",b+d,c+e*.7,b+d,c+e*.4,b,c+e*.4,"Z","M",b+d*.2,c+e*.4,"L",b+d*.2,c,b+d*.8,c,b+d*.8,c+e*.4,"Z","M",b+d*.2,c+e*.7,"L",b,c+e,b+d,c+e,b+d*.8,c+e*.7,"Z"])},c.prototype.callbacks.push(function(a){var b,c=a.options.exporting,e=c.buttons;if(c.enabled!==!1){for(b in e)a.addButton(e[b]);d(a,"destroy",a.destroyExport)}})})();
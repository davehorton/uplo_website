/* =========================================================
 * bootstrap-modal.js v1.4.0
 * http://twitter.github.com/bootstrap/javascript.html#modal
 * =========================================================
 * Copyright 2011 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================= */
!function(e){function t(){var e=this,t=setTimeout(function(){e.$element.unbind(o),n.call(e)},500);this.$element.one(o,function(){clearTimeout(t),n.call(e)})}function n(e){this.$element.hide().trigger("hidden"),r.call(this)}function r(t){var n=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.settings.backdrop){var s=e.support.transition&&r;this.$backdrop=e('<div class="modal-backdrop '+r+'" />').appendTo(document.body),this.settings.backdrop!="static"&&this.$backdrop.click(e.proxy(this.hide,this)),s&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),s?this.$backdrop.one(o,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(o,e.proxy(i,this)):i.call(this)):t&&t()}function i(){this.$backdrop.remove(),this.$backdrop=null}function s(){var t=this;this.isShown&&this.settings.keyboard?e(document).bind("keyup.modal",function(e){e.which==27&&t.hide()}):this.isShown||e(document).unbind("keyup.modal")}"use strict";var o;e(document).ready(function(){e.support.transition=function(){var e=document.body||document.documentElement,t=e.style,n=t.transition!==undefined||t.WebkitTransition!==undefined||t.MozTransition!==undefined||t.MsTransition!==undefined||t.OTransition!==undefined;return n}(),e.support.transition&&(o="TransitionEnd",e.browser.webkit?o="webkitTransitionEnd":e.browser.mozilla?o="transitionend":e.browser.opera&&(o="oTransitionEnd"))});var u=function(t,n){return this.settings=e.extend({},e.fn.modal.defaults,n),this.$element=e(t).delegate(".close","click.modal",e.proxy(this.hide,this)),this.settings.show&&this.show(),this};u.prototype={toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this;return this.isShown=!0,this.$element.trigger("show"),s.call(this),r.call(this,function(){var n=e.support.transition&&t.$element.hasClass("fade");t.$element.appendTo(document.body).show(),n&&t.$element[0].offsetWidth,t.$element.addClass("in"),n?t.$element.one(o,function(){t.$element.trigger("shown")}):t.$element.trigger("shown")}),this},hide:function(r){r&&r.preventDefault();if(!this.isShown)return this;var i=this;return this.isShown=!1,s.call(this),this.$element.trigger("hide").removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?t.call(this):n.call(this),this}},e.fn.modal=function(t){var n=this.data("modal");return n?t===!0?n:(typeof t=="string"?n[t]():n&&n.toggle(),this):(typeof t=="string"&&(t={show:/show|toggle/.test(t)}),this.each(function(){e(this).data("modal",new u(this,t))}))},e.fn.modal.Modal=u,e.fn.modal.defaults={backdrop:!1,keyboard:!1,show:!1},e(document).ready(function(){e("body").delegate("[data-controls-modal]","click",function(t){t.preventDefault();var n=e(this).data("show",!0);e("#"+n.attr("data-controls-modal")).modal(n.data())})})}(window.jQuery||window.ender);
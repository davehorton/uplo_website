#search-box.right
  %form.search-form{ :action => action, :method => 'get'}
    .container
      %input#search-keyword.text.light-gray.font11.line12{:type => "text", :name => "query",
                            :value => params[:query], :placeHolder => I18n.t("common.search_hint"),
                            :title => "Searching is not supported with these characters: ^, *, _" }
      .search-right-padding
      .search-icon.right

:erb
  <script type="text/javascript">
    $(document).ready(function(){
      $("#search-keyword").focusin(function(){
        $("#search-box .container").addClass("focus");
      });

      $("#search-keyword").focusout(function(){
        $("#search-box .container").removeClass("focus");
      });

      $(".search-icon").click(function(){
        $(".search-form").submit();
      });

      $(".search-form").submit(function(){
        var not_support = ["^", "*", "_"];
        var val = $("#search-keyword").attr('value');
        for(var i=0; i<not_support.length; i++){
          if(val.indexOf(not_support[i]) > -1){
            alert("Search can't be performed with these characters: ^, *, _");
            return false;
          }
        }
      });
    });
  </script>

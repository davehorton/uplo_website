#total-amount.text.bold
  %span.text.font18 Total Monthly Sales
  %span.text.font24
    = "&nbsp;#{number_to_currency total_sales}".html_safe

#container{:style=>"min-width: 400px; height: 460px; margin: 0 auto"}

= javascript_tag do
  :erb
    $(function () {
        var chart;
        var months = [];
        var month_sales = [];
        <% sales.each do |sale| %>
                months.push("<br /><span style=\"color:black;\"><%= sale[:month] %></span>");
                month_sales.push(<%= sale[:sales] %>);
        <% end %>

        $(document).ready(function() {
            chart = new Highcharts.Chart({
                chart: {
                    renderTo: 'container',
                    type: 'column',
                    shadown: false,
                    backgroundColor: '#f8f8f8'
                },
                navigation:{
                    buttonOptions:{
                        enabled:false
                    }
                },
                title: {
                    text: '<br/>'
                },
                subtitle: {
                    text: ''
                },
                xAxis: {
                    lineWidth:2,
                    categories: months
                },
                yAxis: {
                    title: {
                        text: 'Gross ($)',
                        style: {
                            fontSize: '18px',
                            fontWeight: 'bold',
                            color: '#080808'
                        }
                    }
                },
                legend: {
                    layout: 'vertical',
                    backgroundColor: '#ffffff',
                    align: 'right',
                    verticalAlign: 'top',
                    x: 100,
                    y: 70,
                    floating: true,
                    shadow: true
                },
                tooltip: {
                    style: {
                        padding: '5px',
                        backgroundColor: 'red'
                    },
                    formatter: function() {

                        return ''+
                            this.x +'<span style="font-size:20px; font-family:Helvetica; color:black;font-weight:bold;">: $'+ this.y +'</span>';
                    }
                },
                plotOptions: {
                    column: {
                        pointPadding: 0,
                        borderWidth: 0,
                        color:'#fc7700',
                        shadow: false
                    }
                },
                series: [ {
                    name: 'Sales',
                    data: month_sales

                }]
            });
        });

    });

= javascript_include_tag '/assets/lib/column_charts/highcharts.js', '/assets/lib/column_charts/exporting.js'

.text.bold{:style=>"width: 400px; margin: 0 auto"}
  %span{:style=>"font-size:20px; font-family:Helvetica; color:black;"}
    = "Total Monthly Sales #{number_to_currency total_sales}"

#container{:style=>"min-width: 400px; height: 460px; margin: 0 auto"}

= javascript_tag do
  :erb
    $(function () {
        var chart;
        var months = [];
        var month_sales = [];
        <% sales.each do |sale| %>
                months.push("<br /><span style=\"font-size:20px; font-family:Helvetica; color:black;\"><%= sale[:month] %></span>");
                month_sales.push(<%= sale[:sales] %>);
        <% end %>

        $(document).ready(function() {
            chart = new Highcharts.Chart({
                chart: {
                    renderTo: 'container',
                    type: 'column'
                },
                navigation:{
                    buttonOptions:{
                        enabled:false
                                  }
                           },
                title: {
                    text: '<br/>'
                },
                subtitle: {
                    text: ''
                },
                xAxis: {
                    lineWidth:2,
                    categories: months
                },
                yAxis: {
                    min: 0,
                    tickWidth: 1,
                    labels: {
                          style: {
                             color: 'black',
                             fontWeight: 'bold',
                             font: '20px Helvetica, Verdana, sans-serif'
                                }
                            },
                    title: {
                        text: '<span style="font-size:20px; font-family:Helvetica; color:black;">Gross ($)</span>'
                    }
                },
                legend: {
                    layout: 'vertical',
                    backgroundColor: '#FFFFFF',
                    align: 'right',
                    verticalAlign: 'top',
                    x: 100,
                    y: 70,
                    floating: true,
                    shadow: true
                },
                tooltip: {
                    formatter: function() {

                        return ''+
                            this.x +'<span style="font-size:20px; font-family:Helvetica; color:black;font-weight:bold;">: $'+ this.y +'</span>';
                    }
                },
                plotOptions: {
                    column: {
                        pointPadding: 0,
                        borderWidth: 0,
                        color:'#fc7700'
                    }
                },
                    series: [ {
                    name: 'Sales',
                    data: month_sales

                }]
            });
        });

    });

= javascript_include_tag "/assets/lib/column_charts/highcharts.js", "/assets/lib/column_charts/exporting.js"

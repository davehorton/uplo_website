- content_for :head do
  = stylesheet_link_tag("scss/sale.css", "scss/new_image.css")

- content_for :top_content do
  .text.black.bold.font16.left My Sales
  .line-separator.left

.wrapper
  - if @sales.blank?
    .empty-data= "There is no image to view saled status."
  - else
    .sale-chart.clear
      = render :partial => 'chart', :locals => {:total_sales => @year_sales, :sales => @monthly_sales}
    .line-separator.left
    .sales-wrapper.left
      - (0...(@sales.length - 1)). each do |idx|
        - image = @sales[idx]
        - url = url_for(:controller => "sales", :action => "image_sale_details", :id => "#{image.id}")
        .sale-item.left
          .image-container.thumb.left.no-padding
            = image_tag(image.data.url(:thumb), :class => 'image-thumb image thumb')
          .info.left
            .name.text.black.bold= image.name
            .price
              %span.text.fuzzy-gray.bold.font18= number_to_currency image.saled, {:precision => 2}
              %span.text.fuzzy-gray.font14 Cumulative
            .btn-detail{:data => {:url => "#{url}"}}
          .line-separator.left

      - image = @sales[@sales.length - 1]
      .sale-item.left
        .image-container.thumb.left.no-padding
          = image_tag(image.data.url(:thumb), :class => 'image-thumb image thumb')
        .info.left
          .text.black.bold.font22= image.name
          .text.fuzzy-gray.price
            %span.text.bold.fuzzy-gray.font18= number_to_currency image.saled, {:precision => 2}
            %span.text.font14 Cumulative
          .btn-detail{:data => {:url => "#{ url_for(:controller => 'sales', :action => 'image_sale_details', :id => '#{image.id}') }"}}

  .clear= render_pagination(@sales, {:controller => "sales", :action => params[:action]})

- content_for :js do
  - javascript_tag do
    :erb
      $('.btn-detail').bind('click', function(){
        window.location = $(this).attr('data-url');
      });

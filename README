=== Welcome to UPLO

===========================================================================
= DEVELOPMENT
===========================================================================
- Using following Rake tasks to prepare the development environment:
    rake db:bootstrap #=> rake db:drop db:create db:migrate db:seed db:sample_data
    rake db:init #=> rake db:drop db:create db:migrate db:seed

- Working with Rails 3.1 assets pipeline: there is no satisfied solution for this annoying!
    The main static assets are stored in app/assets/ folder. All assets stored in public/assets are temporary and generated by Rails.
    In :development environment, with the configuration "config.serve_static_assets = false" in development.rb, Rails will load static assets from app/assets. As the result, please modify files in app/assets when developing, and compile them when deploying.

===========================================================================
= TESTING
===========================================================================
- Environment:
  - BDD framework: Cucumber, RSpec (for unit testing)
  - Fixture factory: Machinist (used both in Cucumber and RSpec),
                     and Pickle (provides convenient steps to create models in Gherkin script).
  - Distributed Ruby (DRB) server: Spork (for faster testing with Cucumber by preloading Rails environment).

- Steps:
  - Ensure all models factory are up-to-date (in spec/support/bluesprint.rb)
  - Run:
      bundle exec rake db:test:prepare
  Testing with Cucumber:
    - Start Spork server:
        bundle exec spork cucumber
    - Open one more console and run one of these commands:
        bundle exec cucumber --drb # Run all features
        bundle exec cucumber --drb features/user.feature
        bundle exec cucumber --drb --tags @current # Run only selected scenario with tag @current
      You can add as many *.feature file as you want.
  
  Testing with RSpec:
    rspec spec/models_spec.rb
    
- References:
  https://github.com/jnicklas/capybara
  https://gist.github.com/428105
  https://github.com/ianwhite/pickle
  https://github.com/notahat/machinist
  http://github.com/cucumber/cucumber
  
===========================================================================
= DEPLOYMENT
===========================================================================
For Rails 3.1.x:
Run this command before pushing to production server (Heroku):
  bundle exec rake build_assets
Or:
  bundle exec rake assets:precompile

This will compile assets to packages. Otherwise you will receive an AssetNotPrecompiledError exception.
If you are using Heroku Cedar stack, you can skip this step, because Heroku will do it for you :).

Refresh Paperclip image:
  rake paperclip:refresh:missing_styles
  rake paperclip:refresh CLASS=Image
  rake paperclip:refresh:thumbnails CLASS=Image

  Image.all.each {|i| i.data.reprocess! }
